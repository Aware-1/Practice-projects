{"ast":null,"code":"import { HttpParams } from '@angular/common/http';\nimport { map } from 'rxjs';\nimport { PaginationResult } from '../DTOs/pagination';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class MemberService {\n  constructor(http) {\n    this.http = http;\n    this.baseUrl = 'https://localhost:7220/api/';\n    this.paginationResult = new PaginationResult();\n  }\n  getMembers(userParams) {\n    let params = this.getPaginationHeader(userParams.pageNumber, userParams.pageSize);\n    console.log(userParams.gender);\n    params = params.append('minAge', userParams.minAge.toString());\n    params = params.append('maxAge', userParams.maxAge.toString());\n    params = params.append('gender', userParams.gender);\n    return this.http.get(this.baseUrl + 'user', {\n      observe: 'response',\n      params\n    }).pipe(map(response => {\n      this.paginationResult.result = response.body;\n      if (response.headers.get('Pagination') !== null) {\n        this.paginationResult.pagination = JSON.parse(response.headers.get('Pagination'));\n      }\n      return this.paginationResult;\n    }));\n  }\n  getPaginationHeader(pageNumber, pageSize) {\n    let params = new HttpParams();\n    params = params.append('pageNumber', pageNumber.toString());\n    params = params.append('pageSize', pageSize.toString());\n    return params;\n  }\n  getMember(userName) {\n    return this.http.get(this.baseUrl + 'user/' + userName);\n  }\n  updateMember(member) {\n    return this.http.put(this.baseUrl + 'user', member);\n  }\n  addLike(username) {\n    return this.http.post(this.baseUrl + \"like/\" + username, {});\n  }\n  getlikes(predicate) {\n    return this.http.get(this.baseUrl + \"like?predicate=\" + predicate);\n  }\n  static #_ = this.ɵfac = function MemberService_Factory(t) {\n    return new (t || MemberService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: MemberService,\n    factory: MemberService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["HttpParams","map","PaginationResult","MemberService","constructor","http","baseUrl","paginationResult","getMembers","userParams","params","getPaginationHeader","pageNumber","pageSize","console","log","gender","append","minAge","toString","maxAge","get","observe","pipe","response","result","body","headers","pagination","JSON","parse","getMember","userName","updateMember","member","put","addLike","username","post","getlikes","predicate","_","i0","ɵɵinject","i1","HttpClient","_2","factory","ɵfac","providedIn"],"sources":["D:\\Project\\DatingApp Project\\Angular\\DatingApp\\src\\app\\services\\member.service.ts"],"sourcesContent":["import { HttpClient, HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { MemberDTO } from '../DTOs/member/MemberDTO';\nimport { map } from 'rxjs';\nimport { PaginationResult } from '../DTOs/pagination';\nimport { UserParams } from '../DTOs/userParams';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MemberService {\n\n  baseUrl: string = 'https://localhost:7220/api/';\n  paginationResult: PaginationResult<MemberDTO[]> = new PaginationResult<MemberDTO[]>();\n\n  constructor(private http: HttpClient) { }\n\n  getMembers(userParams: UserParams) {\n\n    let params = this.getPaginationHeader(userParams.pageNumber, userParams.pageSize);\n\n    console.log(userParams.gender)\n    params = params.append('minAge', userParams.minAge.toString());\n    params = params.append('maxAge', userParams.maxAge.toString());\n    params = params.append('gender', userParams.gender);\n\n    return this.http.get<MemberDTO[]>(this.baseUrl + 'user', { observe: 'response', params }).pipe(\n      map(response => {\n        this.paginationResult.result = response.body;\n        if (response.headers.get('Pagination') !== null) {\n          this.paginationResult.pagination = JSON.parse(response.headers.get('Pagination'));\n        }\n\n        return this.paginationResult;\n      })\n    )\n  }\n\n  private getPaginationHeader(pageNumber: number, pageSize: number) {\n    let params = new HttpParams();\n    params = params.append('pageNumber', pageNumber.toString());\n    params = params.append('pageSize', pageSize.toString());\n\n    return params;\n  }\n\n  getMember(userName: string) {\n    return this.http.get<MemberDTO>(this.baseUrl + 'user/' + userName);\n  }\n\n  updateMember(member: MemberDTO) {\n    return this.http.put(this.baseUrl + 'user', member);\n  }\n\n  addLike(username: string) {\n    return this.http.post(this.baseUrl + \"like/\" + username, {});\n  }\n\n  getlikes(predicate: string) {\n    return this.http.get<Partial<MemberDTO[]>>(this.baseUrl + \"like?predicate=\" + predicate);\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}